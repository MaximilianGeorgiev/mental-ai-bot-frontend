<div>
  <div>
    <h1 mat-dialog-title>Create self care plan</h1>
    <div mat-dialog-content>
      <p>
        A self care plan will be generated by prioritizing the activities you find interesting. You will receive daily goals to achieve for the activities and you will be able to
        track your progress daily.
      </p>
      <ng-template *ngIf="!activitiesNotSpecified">
        <p>Your prefered tasks are:</p>
      </ng-template>
      <ng-template *ngIf="activitiesNotSpecified">
        <p>
          You have not specified any prefered activities and a random program will be created for you. If you wish, you can edit your profile and add your interests to your
          profile.
        </p>
      </ng-template>
      <mat-form-field>
        <mat-label>End date</mat-label>
        <input matInput [matDatepicker]="picker" [(ngModel)]="endDate" [formControl]="endDateFormControl">
        <mat-hint>MM/DD/YYYY</mat-hint>
        <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
        @if (endDateFormControl.hasError('required')) {
          <mat-error>This field is required</mat-error>
          }
      </mat-form-field>
      
      <mat-form-field>
        <mat-label>Intensity</mat-label>
        <mat-select [formControl]="intensityFormControl" [(ngModel)]="intensity">
          @for (intensityLevel of taskIntensityOptions; track intensityLevel) {
          <mat-option [value]="intensityLevel.value">{{ intensityLevel.displayValue }}</mat-option>
          }
        </mat-select>
        @if (intensityFormControl.hasError('required')) {
        <mat-error>This field is required</mat-error>
        }
      </mat-form-field>
      <ng-template *ngIf="activitiesGenerated.length > 0">
        <p>The generated self care plan consists of:</p>
      </ng-template>
      <div mat-dialog-actions>
        <button mat-button mat-dialog-close>Close</button>
        <button mat-button cdkFocusInitial (click)="generateSelfCarePlanActivities()">Generate</button>
      </div>
    </div>
  </div>
</div>
